# DDos攻击

`DDos`攻击，全称为`Distributed Denial of Service`即分布式拒绝服务。一般指攻击者利用"肉鸡"对目标网站在短时间内发起大量请求，大规模消耗目标网站的主机资源，让它无法正常服务。

## DDos攻击的危害

DDoS攻击以消耗资源为目的，以大量无用的数据消耗有限的网络资源和服务器系统资源，因为网络和系统是没有办法分辨数据有用还是无用，无论怎样都要处理所分配的资源。DDoS攻击制造高流量无用数据，造成网络拥塞，使受害主机无法正常和外界通讯。因为如果一直在处理无用数据，就没有多余资源去处理正常数据了。最后造成的结果，轻则网速变慢，重则网络瘫痪，服务器系统崩溃，导致死机。

## DDos攻击方式

DDos通过大量合法的请求来占用网络的资源，已达到使网络瘫痪的目的。具体攻击方式可分为以下几种：

1. 通过网络过载来干扰甚至阻断正常的网络通讯
2. 通过向服务器提交大量请求，使服务器超负荷
3. 阻断某一用户访问的服务器
4. 阻断某服务器与特定系统或个人的通讯

### 具体到细节

#### SYN Flood

这是一种利用TCP协议缺陷，发送大量伪造的TCP连接请求，从而使得被攻击方资源耗尽(CPU满负荷或内存不足)的攻击方式。建立TCP连接需要三次握手——客户端SYN，服务器端ACK+SYN，客户端ACK三个步骤来完成连接。

SYN Flood即用户向服务器发送报文后突然死机或掉线，那么服务器在发出应答报文后就无法收到客户端的确认报文(第三次握手无法完成)，这时服务器一般会重试并等待一段时间后再丢弃这个未完成的连接。一个用户出现异常导致服务器的一个线程等待一会儿并不是大问题，但恶意攻击者大量模拟这种情况，服务器端为了维护数以万计的半连接而消耗非常多的资源，结果往往是无暇理睬客户的正常请求，甚至崩溃。从正常客户的角度看来，网站失去了响应，无法访问。

#### CC 攻击

CC攻击是目前应用层攻击的主要手段之一，借助代理服务器生成指向目标系统的合法请求，实现伪装和DDos攻击。它模拟多个正常用户不停的访问那些需要大量数据库操作的页面，造成服务器资源的浪费，CPU长时间处于100%。这种攻击方式技术含量高，见不到真实源 IP，见不到特别大的异常流量，但服务器就是无法正常进行连接。

## 预防措施

1. 高防服务器

2. 黑名单

3. DDos清洗：DDos清洗会对用户请求数据进行实时监控，及时发现DDos攻击等异常流量，在不影响正常业务开展的情况下清洗掉这些异常流量。

4. CDN加速：一方面隐藏源服务器，防止其直接攻击源服务器。